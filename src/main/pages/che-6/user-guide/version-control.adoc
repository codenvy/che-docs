---
title: "Version Control"
keywords: workspace, runtime, project, projects, git, subversion, version control, clone, pull, push, ssh key, ssh keys, github, oauth, gitlab, bitbucket
tags:
sidebar: che_6_docs
permalink: che-6/version-control.html
redirect_from: version-control.html
folder: che-6/user-guide
---


Eclipse Che natively supports Git that is provided by the https://www.eclipse.org/jgit/[JGit library]. Versioning functionality is available in the IDE and in the terminal. Note that an link:#svn[SVN plugin] also exists, but it is not part of the default Che assembly.

The following sections describe how to connect and authenticate users to a remote Git repository. Any operations that involve authentication on the remote repository must be done via the IDE interface unless authentication is set up separately for the workspace machine (through the terminal or commands).

An SSH key pair must be generated because private repositories require a secure SSH connection and most developers who plan to push to a repository clone the repository via SSH. SSH keys are saved in the user preferences, so you need to generate the SSH key only once and it will be used in all workspaces.

[NOTE]
====
HTTPS Git URL can only be used to push changes if you enable oAuth authentication as described in link:user-management.html#social-login-and-brokering[GitHub oAuth].
====

[id="generating-and-uploading-ssh-keys"]
== Generating and uploading SSH keys

To generate the SSH keys, take the following steps:

. Click *Profile* > *Preferences* > *SSH* > *VCS*.

. Click *Generate Key* and manually save the resulting key to your Git hosting provider account. 

. When prompted to provide the hostname for your repository, ensure that it is a bare hostname (without www or http/https). Hostname is an actual hostname of a VCS provider. Example: `github.com`, `bitbucket.org`

After the key is generated, you can view and copy it, and save it to your repository hosting account.

[id='using-existing-ssh-keys']
=== Using existing SSH keys

You can upload an existing public key instead of creating a new SSH key. When uploading a key, add the hostname (without www or http/https). Note that the *View* button in the *Public Key* column will not be available with this option because the public file should be generated already.

image::git/ssh_keys.gif[]

The following example is specific to GitHub and GitLab, but it can be used with any Git or SVN repository providers that use SSH authentication. For additional information, refer to the documentation provided by other providers.

*GitHub example*

If you do not want to set up GitHub oAuth, you can manually upload a key. Add the associated public key to a repository or account using *github.com*. 

. Click your user icon in the top-right corner. 

. Click *Settings*  > *SSH and GPG keys* > *New SSH key*. 

. In the *Title* field, type a title for the key. 

. In the *Key* field, paste the public key copied from Che. 

. Click *Add SSH Key*.

image::git/ssh_github.png[]

*GitLab example*

To add the associated public key to a git repository or account using *gitlab.com*, take the following steps:

. Click your user icon in the top-right corner. 

. Click *Settings* > *SSH Keys*. 

. In the *Key* field, paste the public key copied from Che. 

. In the *Title* field, type a title for the key. 

. Click *Add key*. 

image::git/ssh_gitlab.png[]

*BitBucket example*

You can set up SSH key for a dedicated BitBucket server. Each user must set up their own SSH key for authentication to the BitBucket server. This process is similar to the preceding GitHub and GitLab SSH examples.

[id="github-oauth"]
== GitHub oAuth

oAuth for GitHub allows users to import projects using SSH "git@", push to any repository, and to use the pull request panel using the IDE Git menu. To enable automatic SSH key upload to GitHub for users, register an application in your GitHub account using the *Settings* > *Developer Settings* > *oAuth Apps* menu options. In the *Authorzation callback URL* field, use the `http://${CHE_HOST}:${CHE_PORT}/api/oauth/callback` callback.

image::git/github_oauth.png[]

This is applicable to single-user Che. For multi-user Che, see: link:user-management.html#social-login-and-brokering[Set up GitHub oAuth for Multi-User Che].

Set the following environment variables in the `che.env` file (See: link:docker-config.html[Docker Config]) or update your Che OpenShift deployment (See: link:openshift-config.html[OpenShift Config]).

----
CHE_OAUTH_GITHUB_CLIENTID=your_github_client_id
CHE_OAUTH_GITHUB_CLIENTSECRET=your_github_secret
CHE_OAUTH_GITHUB_AUTHURI=https://github.com/login/oauth/authorize
CHE_OAUTH_GITHUB_TOKENURI=https://github.com/login/oauth/access_token
CHE_OAUTH_GITHUB_REDIRECTURIS=http://${CHE_HOST}:${CHE_PORT}/api/oauth/callback
----

After the oAuth is set up, a user can generate and upload the SSH keys to GitHub in the workspace IDE. Use the *Octocat* icon in the *Profile* > *Preferences* > *SSH* > *VCS* menu option to do this. You can connect to your GitHub account and choose repositories to clone, rather than manually typing or pasting the GitHub project URL.

[id="gitlab-oauth"]
== GitLab oAuth

Currently it is not possible for Che to use oAuth integration with GitLab. Although GitLab supports oAuth for clone operations, pushes are not supported. You can track this https://gitlab.com/gitlab-org/gitlab-ce/issues/18106[GitLab issue] in their issue management system.

[id="using-the-built-in-pull-request-panel"]
== Using the built-in pull request panel

The pull request panel within Eclipse Che simplifies creation of pull requests for GitHub, BitBucket, and Microsoft VSTS (with Git) repositories.

image::git/pr_panel.png[]

[id="setting-the-committer-name-and-email"]
== Setting the committer name and email

Committer name and email are set using the *Profile* > *Preferences* > *Git* > *Committer* menu options. After it is set, each commit includes this information.

[id="working-with-git-workspace-clients"]
== Working with Git workspace clients

After importing a repository, you can perform Git operations using interactive menus or terminal commands. Terminal Git commands require an authentication setup. The keys generated in the IDE will work only when Git is used in the IDE menus. Git installed in a terminal is a different Git system. You may generate keys in the `~/.ssh` file.

image::git/git.gif[]

Use the following keyboard shortcuts to quickly access the most frequently used Git functionalities:

* Commit: `Alt + C`
* Push to remote: `Alt + Shift + C`
* Pull from remote: `Alt + P`
* Work with branches: `Ctrl + B`
* Compare current changes with the latest repository version: `Ctrl + Alt + D`

[id="color-codes-for-files-in-the-project-explorer-and-editor"]
== Color codes for files in the Project Explorer and Editor

Files in the *Project Explorer* tab and in the editor can be colored according to their Git status:

image::git/project-explorer-editor-tabs-git-colors.png[]

* Green: New files that are staged in index.
* Blue: Files that contain changes.
* Yellow: Files that are not staged in index.

The editor displays change markers according to file edits.

image::git/editor-git-change-markers.png[]

* Yellow marker: Modified line(s).
* Green marker: New line(s).
* White triangle: Removed line(s).

[id="git-operations"]
== Git operations

=== Commit

Commit your changes using the *Git* > *Commit* menu options or use the `Alt + C` keyboard shortcut.

image::git/git-commit-tree-view.png[]

Select the files that you want to add to the index and commit. Note that all the files in the selected package or folder in the *Project Explorer* are selected by default. Type the commit message. Click *Amend previous commit* to replace the previous commit. For more details, see https://git-scm.com/docs/git-commit#git-commit---amend[git docs].

To push your commit to a remote repository, click *Push committed changes to* and select a remote branch.

Click *Commit* to proceed. The *Commit* button is active if at least one file is selected and a commit message is present or *Amend previous commit* is selected.

Behavior of the files in the list view is the same as in the compare window (see the link:#compare[Reviewing changed files] section). Double-click a file to open the diff window with it.

=== Push/Pull

Push your commits using the *Git* > *Remotes* > *Push* menu options or use the `Alt + Shift + c` keyboard shortcut.

image::git/git-push.png[]

Choose the remote repository, the local branch, and the remote branch. Optionally, you can use `Force push`. To get changes from a remote repository, use the *Git* > *Remotes* > *Pull* or use the `Alt + P` keyboard shortcut.

image::git/git-pull.png[]

Use `Rebase instead of merge` to keep your local commits on top. For more information, see the https://git-scm.com/docs/git-pull#git-pull--r[git docs].

=== Branches

Manage your Git branches using the *Git* > *Branches* menu options or use the `Ctrl + b` keyboard shortcut.

image::git/git-branches-window.png[]

You can filter the branches view by choosing to see only local or remote branches.

[id="using-the-compare-window-to-view-changed-files"]
== Using the Git Compare window to view changed files

The *Git Compare* window is used to show files that have been changed. You can invoke this widget from different places for different states. The most frequently used choice is the *Git* > *Compare* > *<Select-to-what>* menu options or the `Ctrl + Alt + D` keyboard shortcut to compare the current state of code with the latest local commit. Another option is to select an object in the project tree and click *Git* > *<Select-to-what>* from the context menu of the item. Note that this widget shows changed files in the selected object in the *Project Explorer*. To see all the changes select the project folder. If only one file was changed, the diff window is shown instead of the compare window.

image::git/git-compare-tree-view.png[]

By default, affected files are listed as a tree.

The *Expand all directories* and *Collapse all directories* buttons show better views. The *View as list* button switches the view of changed files to a list, where each file is shown with its full path. To return to the tree view, click the *Group by directories* button.

image::git/git-compare-list-view.png[]

To view the diff for a file, select it and click *Compare* or double-click the file name.

You can review changes between two states of code. To view the diff, use the *Git* > *Compare* > *<Select-to-what>* menu options. If more than one file has changed, the list of changed files opens first. To select a file to compare, double-click it or select the file, then click *Compare*. Another way to open the diff is to select a file in the *Project Explorer* and click *Git* > *<Select-to-what>* from the context menu or directly from the editor context menu.

image::git/git-diff-widget.png[]

The changes are displayed in the left editor and the file being compared to is on the right. The left editor can be used for editing and fixing the changes.

You can navigate through all the files that have changes. The number of files that can be reviewed displays in the title of the wizard. Navigate to the next or previous file using the *Next* or the *Previous* buttons.

For keyboard navigation between the files, use the following keyboard shortcuts:

* `Alt + .` for `Next`
* `Alt + ,` for `Previous`

The *Refresh* button updates difference links between the editors.

[id="using-the-svn-plugin"]
== Using the SVN plug-in

The SVN plug-in is not included in the default Che build. You can, however, build your own https://github.com/eclipse/che-plugin-svn[Che assembly with this plug-in].
