[id="deploy-{prod-id-short}-with-self-signed-tls-on-openshift4-using-operator_{context}"]
= Deploy {prod-short} with self signed TLS certificates on Openshift 4 using operator

This section describes how to deploy {prod-short} with self-signed TLS certificates on Openshift 4 container platform. We need to grab certificate generated by Openshift and use it for Che and import it into browser.


[discrete]
== Procedure

. Login into Openshift default project

+
[subs="+quotes"]
----
$ oc login -u kubeadmin -p <password>
----


. Get Openshift 4 self-signed certificate

+
[subs="+quotes"]
----
$ oc get secret router-ca -n openshift-ingress-operator -o jsonpath="{.data.tls\.crt}" | base64 -d > ca.crt
----


. Pre-create namespace for {prod-short}

+
[subs="+quotes"]
----
$ oc create namespace che
----


. Create secret from CA certificate

+
[subs="+quotes"]
----
$ oc create secret generic self-signed-certificate --from-file=ca.crt -n=che
----


. Deploy {prod-short} using `chectl`

+
[subs="+quotes"]
----
$ chectl server:start --platform=crc --installer=operator --tls --self-signed-cert
----
