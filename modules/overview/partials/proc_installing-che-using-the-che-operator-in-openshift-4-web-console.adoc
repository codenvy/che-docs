[id="installing-{prod-id-short}-using-the-{prod-id-short}-operator-in-openshift-4-web-console_{context}"]
= Installing {prod-short} using the {prod-short} Operator in OpenShift 4 web console

This section describes how to install {prod-short} using the {prod-short} Operator available in OpenShift 4 web console.

Operators are a method of packaging, deploying, and managing an OpenShift application which also provide the following:

* Repeatability of installation and upgrade.

* Constant health checks of every system component.

* Over-the-air (OTA) updates for OpenShift components and independent software vendor (ISV) content.

* A place to encapsulate knowledge from field engineers and spread it to all users.

.Prerequisites

* An administrator account on a running instance of OpenShift 4.

== Creating a project 

A project allows to organize and manage different resources on the cluster in an isolated unit. Create a project first to host the *{prod}* Operator.

.Procedure

. Open the OpenShift web console, in the left panel navigate to the *Home* -> *Projects* section.

. Click btn:[Create Project].
. Enter the project details:
+
* *Name*:  `{prod-short}`.
* *Display Name*: `{prod}`.
* *Description*: `{prod}`.

== Installing the *{prod}* Operator

*{prod}* Operator provides with all the resources for running {prod-short} such as PostgreSQL, Keycloak, Registries and the {prod-short} server, as well as configures all these services.

.Procedure

. To install the *{prod}* Operator, in the left panel, navigate to the *Operators* -> *OperatorHub* section.

. In the *Filter by keyword* field, type `{prod}`and click the *{prod}* tile.

. In the *{prod}* pop-up window, click the btn:[Install] button.

. On the *Install Operator* screen, choose following options and validate:
+
* *Installation mode*: *A specific {orch-namespace} on the cluster*.
* *Installed Namespace*: `{prod-short}`. 
//(Operator recommended namespace: ProjectPRopenshift-workspaces) ?

.Verification steps

. To verify the *{prod}* Operator has installed correctly, in the left panel navigate to the *Operators* -> *Installed Operators* section.

. In the *Installed Operators* screen, click on the *{prod}* name and navigate to the *Details* tab.

. In the *ClusterServiceVersion Details* section at the bottom of the page, wait for these messages:
+
* *Status*: `Succeeded`.
* *Status Reason*: `install strategy completed with no errors`.

. Navigate to the *Events* tab and wait for this message: `install strategy completed with no errors`.

== Creating an instance of the *{prod}* Operator

Follow this procedure to install *{prod}* with the default configuration. To modify the configuration, see xref:installation-guide:configuring-the-che-installation.adoc[].

.Procedure

. To create an instance of the *{prod}* Operator, in the left panel, navigate to the *Operators* -> *Installed Operators* section.

. In the *Installed Operators* screen, click the *{prod}* name.

. In the *Operator Details* screen, in the *Details* tab, inside of the *Provided APIs* section, click the *Create Instance* link.

. The *Create CheCluster* page contains the configuration of the overall {prod-short} instance to create. It is the `CheCluster` Custom Resource. Keep the default values. 

. To create the *{prod-checluster}* cluster, click the btn:[Create] button in the lower left corner of the window.

. On the *Operator Details* screen, in the *{prod} Cluster* tab, click on the *{prod-checluster}* link.

. To navigate to the *{prod-checluster}* instance, click the link under *{prod} URL*. 
+
[NOTE]
====
The installation might take more than 5 minutes. The URL appears after the *{prod}* installation finishes. 
====

.Verification steps

. To verify that the *{prod}* instance has installed correctly, navigate to the *{prod2} Cluster* tab. The *CheClusters* screen displays the list of *{prod}* instances and their status.

. Click *{prod-checluster}* `CheCluster` in the table and navigate to the *Details* tab.

. See the content of following fields:
+
* *Message*: the field contains error messages, if any. The expected content is `None`.
* *{prod} URL*: displays the URL of the *{prod}* instance, once the deployment is successful.

. Navigate to the *Resources* tab. The screen displays the list of the resources assigned to the {prod-short} deployment.

. To see more details about the state of a resource, click its name and inspect the content of the available tabs. 

.Additional resources

* xref:end-user-guide:navigating-che-using-the-dashboard.adoc[].
* xref:administration-guide:viewing-operator-events.adoc[].
* It is possible to use the `{prod-cli}` utility script for deploying {prod-short} on {ocp} and {osd} versions {oc4-ver}. This method is unofficial and serves as a backup installation method for situations where the installation method using OperatorHub is not available.
See the xref:installing-che-on-openshift-3-using-the-operator.adoc[] section.
